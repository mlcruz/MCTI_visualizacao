<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="db_8py">
    <title>db.py File Reference</title>
        <section>
            <title> Classes </title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>struct <link linkend="classdb_1_1_d_b">db::DB</link></para>
                    </listitem>
                </itemizedlist>
            </para>
        </section>
        <simplesect>
            <title> Namespaces </title>
            <para>
                <itemizedlist>
                    <listitem>
                        <para>struct <link linkend="namespacedb">db</link></para>
                    </listitem>
                </itemizedlist>
            </para>
        </simplesect>
    <simplesect>
        <title>Detailed Description</title>
    <para>Definition in file C:/Users/PC/source/repos/Trabalho_final_cpd/SimpleGraphNoSQL/db.py</para>
    </simplesect>
    <literallayout><computeroutput>
1 <emphasis class="comment">#biblioteca&#32;de&#32;funcoes&#32;auxiliares&#32;contendo&#32;todas&#32;as&#32;outras&#32;bibliotecas.&#32;Ver&#32;codigo&#32;para&#32;mais&#32;detalhes</emphasis>
2 <emphasis class="keyword">import</emphasis>&#32;aux_lib
3 
4 
5 
<link linkend="classdb_1_1_d_b">6 </link><emphasis class="keyword">class&#32;</emphasis><link linkend="classdb_1_1_d_b">DB</link>(object):
7 &#32;&#32;&#32;&#32;<emphasis class="stringliteral">&apos;&apos;&apos;Cria&#32;banco&#32;de&#32;dados&#32;a&#32;partir&#32;de&#32;uma&#32;trie&#32;de&#32;tabelas&apos;&apos;&apos;</emphasis>
8 
9 &#32;&#32;&#32;&#32;<emphasis class="keyword">def&#32;</emphasis><link linkend="classdb_1_1_d_b_1af1e6dda03c0f1c1a5bf4b993865a5b3a">__init__</link>(self,&#32;trie):
10 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="stringliteral">&apos;&apos;&apos;Inicialize&#32;banco&#32;de&#32;dados&#32;com&#32;uma&#32;trie&#32;recebida&apos;&apos;&apos;</emphasis>
11 
12 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(<emphasis class="stringliteral">&quot;Generating&#32;database...\n&quot;</emphasis>)
13 
14 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="classdb_1_1_d_b_1afa64c6cf6218f2423e0894a5cf0102bb">tables</link>&#32;=&#32;trie
15 
16 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
17 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Cria&#32;trie&#32;de&#32;linhas&#32;chaves</emphasis>
18 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="classdb_1_1_d_b_1a5993ee8357b3bb993484d83a98a8b828">key_rows</link>&#32;=&#32;<link linkend="class_trie_1_1_trie">aux_lib.Trie</link>()
19 
20 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Cria&#32;trie&#32;de&#32;colunas&#32;chaves</emphasis>
21 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="classdb_1_1_d_b_1ad162712835b5eb50f3cce0bfd39ba244">key_cols</link>&#32;=&#32;<link linkend="class_trie_1_1_trie">aux_lib.Trie</link>()
22 
23 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Cria&#32;trie&#32;de&#32;super&#32;chaves</emphasis>
24 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="classdb_1_1_d_b_1a47d36e897b9f59edde9fdc23e0d9a5f0">super_key</link>&#32;=&#32;<link linkend="class_trie_1_1_trie">aux_lib.Trie</link>()
25 
26 
27 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(<emphasis class="stringliteral">&quot;\tPopulating&#32;indexing&#32;tries...\n&quot;</emphasis>)
28 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Insere&#32;colunas&#32;ordenadores&#32;nas&#32;tries&#32;de&#32;chaves</emphasis>
29 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">for</emphasis>&#32;label,table&#32;<emphasis class="keywordflow">in</emphasis>&#32;trie.strings_dict.items():
30 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">for</emphasis>&#32;X&#32;<emphasis class="keywordflow">in</emphasis>&#32;range(table.bound_x):
31 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">for</emphasis>&#32;Y&#32;<emphasis class="keywordflow">in</emphasis>&#32;range(table.bound_y):
32 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Celula&#32;atual</emphasis>
33 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cell&#32;=&#32;table.table_data[X][Y]
34 
35 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Insere&#32;celulas&#32;do&#32;tipo&#32;Key_row&#32;na&#32;trie&#32;especificada</emphasis>
36 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;cell.cell_type&#32;==&#32;<emphasis class="stringliteral">&quot;Key_Row&quot;</emphasis>:
37 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;aux_lib.insert(cell.cell_name,cell.child_nodes,self.<link linkend="classdb_1_1_d_b_1a5993ee8357b3bb993484d83a98a8b828">key_rows</link>.root)
38 
39 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Insere&#32;celulas&#32;do&#32;tipo&#32;Key_Col&#32;na&#32;trie&#32;especificada</emphasis>
40 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;cell.cell_type&#32;==&#32;<emphasis class="stringliteral">&quot;Key_Col&quot;</emphasis>:
41 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;aux_lib.insert(cell.cell_name,cell.child_nodes,self.<link linkend="classdb_1_1_d_b_1ad162712835b5eb50f3cce0bfd39ba244">key_cols</link>.root)
42 
43 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="keywordflow">if</emphasis>&#32;cell.cell_type&#32;==&#32;<emphasis class="stringliteral">&quot;Super_Key&quot;</emphasis>:
44 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;aux_lib.insert(cell.cell_name,cell.child_nodes,self.<link linkend="classdb_1_1_d_b_1a47d36e897b9f59edde9fdc23e0d9a5f0">super_key</link>.root)
45 
46 
47 
48 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#cria&#32;dicionario&#32;de&#32;strings&#32;da&#32;trie&#32;de&#32;colunas&#32;chave</emphasis>
49 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(<emphasis class="stringliteral">&quot;\tInitializing&#32;key_row&#32;cache...\n&quot;</emphasis>)
50 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="classdb_1_1_d_b_1a5993ee8357b3bb993484d83a98a8b828">key_rows</link>.yield_strings(self.<link linkend="classdb_1_1_d_b_1a5993ee8357b3bb993484d83a98a8b828">key_rows</link>.root)
51 
52 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(<emphasis class="stringliteral">&quot;\tInitializing&#32;key_col&#32;cache...\n&quot;</emphasis>)
53 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="classdb_1_1_d_b_1ad162712835b5eb50f3cce0bfd39ba244">key_cols</link>.yield_strings(self.<link linkend="classdb_1_1_d_b_1ad162712835b5eb50f3cce0bfd39ba244">key_cols</link>.root)
54 
55 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(<emphasis class="stringliteral">&quot;\tInitializing&#32;super_key&#32;cache...\n&quot;</emphasis>)
56 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;self.<link linkend="classdb_1_1_d_b_1a47d36e897b9f59edde9fdc23e0d9a5f0">super_key</link>.yield_strings(self.<link linkend="classdb_1_1_d_b_1a47d36e897b9f59edde9fdc23e0d9a5f0">super_key</link>.root)
57 
58 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(<emphasis class="stringliteral">&quot;\tReversing&#32;index_tries&#32;for&#32;suffix&#32;search...\n&quot;</emphasis>)
59 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis class="comment">#Gera&#32;trie&#32;reversa&#32;da&#32;trie&#32;de&#32;colunas&#32;e&#32;linhas&#32;chaves</emphasis>
60 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;aux_lib.generate_reverse_trie(self.<link linkend="classdb_1_1_d_b_1a5993ee8357b3bb993484d83a98a8b828">key_rows</link>)
61 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;aux_lib.generate_reverse_trie(self.<link linkend="classdb_1_1_d_b_1ad162712835b5eb50f3cce0bfd39ba244">key_cols</link>)
62 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;aux_lib.generate_reverse_trie(self.<link linkend="classdb_1_1_d_b_1a47d36e897b9f59edde9fdc23e0d9a5f0">super_key</link>)
63 
64 
65 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;print(<emphasis class="stringliteral">&quot;Done!&quot;</emphasis>)
66 
67 
68 
69 
70 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
71 
72 
73 
74 
75 
76 
77 
78 
    </computeroutput></literallayout>
</section>
